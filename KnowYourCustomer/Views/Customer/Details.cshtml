@model KnowYourCustomer.ViewModels.CustomerDetailsViewModel
@using KnowYourCustomer.Framework.Extensions;
@{
    ViewData["Title"] = "Details";
}

<h1>Detalle de @Model.FirstName @Model.LastName</h1>

<div>
    <hr />
    <dl class="row">
        <dt class = "col-sm-2">
           Tipo
        </dt>
        <dd class = "col-sm-10">
            @Model.PersonTypeView
        </dd>
        <dt class = "col-sm-2">
            Nombres
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.FirstName) @Html.DisplayFor(model => model.LastName)
        </dd>
        <dt class = "col-sm-2">
            Tipo Nacionalidad
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.NationalityType)
        </dd>
        <dt class = "col-sm-2">
            Telefono
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Phone)
        </dd>
        <dt class = "col-sm-2">
            Email
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Email)
        </dd>
        <dt class = "col-sm-2">
           Cumpleños
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.BirthDate)
        </dd>
    </dl>
</div>

<div class="">
    <div class="row">
        <div class="col-10">
            <h2>Direcciones</h2>
        </div>
        <div class="col-2">
            <a href="/CustomerAddress/Create?customerId=@Model.Id" class="btn btn-primary">Crear</a>
        </div>
        <hr />
    </div>
    <div>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th scope="col">Tipo</th>
                    <th scope="col">Pais</th>
                    <th scope="col">Ciudad</th>
                    <th scope="col">Calle</th>
                    <th scope="col">Numero</th>
                    <th scope="col">Principal?</th>
                    <th scope="col"></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.CustomerAddresses)
                {
                <tr>
                    <th scope="row">@item.AddressType.GetDisplayName()</th>
                    <td>@item.Country.Name</td>
                    <td>@item.City</td>
                    <td>@item.Street</td>
                    <td>@item.Number</td>
                    <td>@(item.IsMain ? "SI": "NO")</td>
                    <td> 
                        <a href="/CustomerAddress/Delete/@item.Id" class="btn btn-danger">Eliminar</a>
                    </td>
                </tr>
                }

            </tbody>
        </table>
    </div>
</div>
<hr />
<div>
    @Html.ActionLink("Edit", "Edit", new {  id = Model.Id }) |
    <a asp-action="Index">Volver a la lista</a>
</div>
